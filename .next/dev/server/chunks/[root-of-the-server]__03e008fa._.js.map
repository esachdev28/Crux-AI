{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/zaheer/Desktop/Crux-AI/app/api/verify/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { claimText } = await request.json()\n\n    if (!claimText) {\n      return NextResponse.json({ error: 'Claim text is required' }, { status: 400 })\n    }\n\n    // Call Python backend\n    const response = await fetch('http://127.0.0.1:8000/api/verify', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ text: claimText }),\n    })\n\n    if (!response.ok) {\n      throw new Error('Backend verification failed')\n    }\n\n    const data = await response.json()\n    const claim = data.claim\n    const score = data.score\n\n    // Map to frontend format expected by fact-check widget\n    const result = {\n      claim: claim.text,\n      status: claim.status.toUpperCase(),\n      confidence: Math.round(claim.credibility_score || 0),\n      sources: claim.evidence_list.map((e: any) => ({\n        name: e.source,\n        credibility: e.confidence * 10 || 0\n      })),\n      explanation: claim.explanation || score.explanation || 'No explanation available',\n      credibilityScore: ((claim.credibility_score || 0) / 10).toFixed(1)\n    }\n\n    return NextResponse.json(result)\n  } catch (error) {\n    console.error('Verification error:', error)\n    return NextResponse.json({\n      error: 'Verification failed',\n      details: error instanceof Error ? error.message : 'Unknown error'\n    }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,QAAQ,IAAI;QAExC,IAAI,CAAC,WAAW;YACd,OAAO,+QAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAyB,GAAG;gBAAE,QAAQ;YAAI;QAC9E;QAEA,sBAAsB;QACtB,MAAM,WAAW,MAAM,MAAM,oCAAoC;YAC/D,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;gBAAE,MAAM;YAAU;QACzC;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM;QAClB;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,MAAM,QAAQ,KAAK,KAAK;QACxB,MAAM,QAAQ,KAAK,KAAK;QAExB,uDAAuD;QACvD,MAAM,SAAS;YACb,OAAO,MAAM,IAAI;YACjB,QAAQ,MAAM,MAAM,CAAC,WAAW;YAChC,YAAY,KAAK,KAAK,CAAC,MAAM,iBAAiB,IAAI;YAClD,SAAS,MAAM,aAAa,CAAC,GAAG,CAAC,CAAC,IAAW,CAAC;oBAC5C,MAAM,EAAE,MAAM;oBACd,aAAa,EAAE,UAAU,GAAG,MAAM;gBACpC,CAAC;YACD,aAAa,MAAM,WAAW,IAAI,MAAM,WAAW,IAAI;YACvD,kBAAkB,CAAC,CAAC,MAAM,iBAAiB,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO,CAAC;QAClE;QAEA,OAAO,+QAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,+QAAY,CAAC,IAAI,CAAC;YACvB,OAAO;YACP,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QACpD,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF"}}]
}